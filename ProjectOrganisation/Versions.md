# Версионирование ПО

Система, призванная отличать этапы развития одного конкретного программного
обеспечения. Это делается для понимания стадии развития проекта, обеспечить
совместимость и в какой-то степени дать фидбэк пользователю о текущем статусе разработки

Частота выхода новых версий обуславливается режимом работы и необходимостью
обновлять ПО. Так, проект может менять версию и выпускаться как каждые две недели, так и
раз в полгода

# Нержавеющая классика

На старте предлагается вести версии по шаблону:

```
<major>.<minor>.<patch>.<tweak/build>
```

1. Major - Мажорный номер, чаще всего обозначающий крупный релиз
2. Minor - Минорный номер или патч-номер, используемый, например, для правок
3. Patch - Патч-номер, вспомогательный
4. Свободный номер, который может означать номер билда (например)

Такая система используется (повсеместно) софтом на платформе Windows. По дефолту
используется проектами C++ Builder и Visual Studio (я не удивлюсь, что еще многими,
многими по всей планете)

## C++ Builder

Данная IDE имеет возможность вшивать номер версии с помощью отдельной настройки.
Достаточно удобно

# MSVS

Студия от Мелкомягких работает через специальный файл ресурсов, позволяющий
предоставить расширенную информацию о ПО. Так, с помощью хитрого файла, зашивается
информация, которая впоследствии отображается в свойствах:

* Авторство
* Номер продукта
* Номер программного обеспечения

Добавляется через окно ресурсов -> Добавить -> Ресурс -> Version -> Создать

Будет сгенерировано несколько файлов:

* resource.h с описанием добавленных ресурсов (???)
* *.aps - временный файл с информацией для студии
* *.rc - основной файл, в который записывается информация

Особенность в том, что за версионную информацию отвечают определенные байты, значения которых
дублируется. Так что вносить изменениия настоятельно рекомендую через студию, т.к. зависящие файлы,
флаги, мало ли что сломаешь...

# Ассоциативное версионирование

Методология, устанавливающая связь релиза ПО с чем-то по-человечески понятным. Номер
скрывается за каким-то названием.

Такой подход использовался в Google при разработке [Android][vAndro] (Kit-Kat, Oreo, Lollipop)
(исключение - 2019-2023 года, когда компания заявила, что сладкие названия ущемляют
чувства людей, страдающих лишним весом); в Embarcadero при разработке IDE [C++ Builder][vBuilder]
(Berlin, Tokio, Alexandria)

Лично мне нравится давать версии название даты, когда произошел релиз, например 2019-
Marth или Февраль-23 при разработке [Dll-Excel-OLE-API](https://github.com/GeorgyGogol/Dll-Excel-OLE-API). Это позволяет определить, как
давно произошел выпуск и что к тому времени было добавлено или сделано

# Семантическое версионирование

Ака "семвер" / "semver"

Официальный сайт: https://semver.org

Система, результат договоренности между разработчиками открытого ПО. Стандарт
помогает пользователям программного обеспечения понять серьезность изменений в
каждом новом дистрибутиве

```
<Major>.<Minor>.<Patch>-<Optional>+<MetaData>
```

1. Major - Номер публичного API
2. Minor - Номер внутренних изменений API (работы)
3. Patch - Патч-номер исправлений ошибок
4. Optional - Дополнительная информация о версии, например alfa
5. MetaData - build мета информация

Последние два пункта являются не обязательными и выступают расширением информации о
версии

Для проверки соответствия своего номера версии договоренности можно использовать
следующее регулярное выражение:

```
^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$
```

Или утащить регулярку с оф.сайта семантического версионирования

Лицензировано Creative Commons CC BY 3.0 DEED
# Соус

[vAndro]: https://ru.wikipedia.org/wiki/История_версий_Android
[vBuilder]: https://ru.wikipedia.org/wiki/C%2B%2B_Builder#%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%B2%D1%8B%D0%BF%D1%83%D1%81%D0%BA%D0%BE%D0%B2

