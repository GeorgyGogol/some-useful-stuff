* [Назад](./Readme.md)

- [Подробнее о переменных](#подробнее-о-переменных)
- [Информационные переменные](#информационные-переменные)
- [Переменные поведения](#переменные-поведения)
  - [Директории с выходными файлами сборки](#директории-с-выходными-файлами-сборки)
  - [${CMAKE\_INSTALL\_PREFIX}](#cmake_install_prefix)
  - [${CMAKE\_PREFIX\_PATH}](#cmake_prefix_path)
- [Переменные системы](#переменные-системы)
- [Соус](#соус)

# Подробнее о переменных

Переменные задаются названием, извлекаются с помощью "${VAR_NAME}" или по такому же неймингу. В этом чудесном мире названия переменных ОРУТСЯ КАПСОМ КАК КОМАНДЫ В SQL, с использованием нижнего подчеркивания.

Задаются командами set() или убираются unset()

Offtop: По всей видимости, на скрипты нужно орать, чтобы они нормально работали

# Информационные переменные

Эти переменные предоставляют информацию о проекте и как правило используются только для чтения

* ${CMAKE_PROJECT_NAME} - название проекта, заданное последним верхнеуровневым методом project()
* ${PROJECT_IS_TOP_LEVEL} - с 3.21, флаг, указывающий является ли текущий проект верхнеуровневым
* ${CMAKE_SOURCE_DIR} - путь до корня проекта, где была запущена работа CMake
* ${CMAKE_CURRENT_BINARY_DIR} - путь до текущей директории, где работает CMake

# Переменные поведения

Эта группа переменных влияет на поведение CMake во время сборки. Чаще используются для установки (set)

* ${CMAKE_MODULE_PATH} - путь для .cmake файлов для поиска включений

## Директории с выходными файлами сборки

Группа переменных, характеризующиеся как OUTPUT_DIRECTORY

* ${CMAKE_ARCHIVE_OUTPUT_DIRECTORY} - Файлы-архивы
* ${CMAKE_LIBRARY_OUTPUT_DIRECTORY} - Промежуточные файлы
* ${CMAKE_RUNTIME_OUTPUT_DIRECTORY} - Файлы exe и Dll

Благодаря set этой троицы можно контроллировать, куда и что билдится. Так же при запуске модульного проекта не будет ошибок, связанных с потерей библиотек

Заклинание:

```cmake
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin)
```

## ${CMAKE_INSTALL_PREFIX}

Префикс установки, который будет использоваться для всех относительных путей, используемых проектом после установки.

## ${CMAKE_PREFIX_PATH}

Список путей установки, используемых для выполнения команд find_(), т.е. это дополнительные пути для поиска модулей и расширений. Крайне важен для поиска зависимостей, интеграции со сторонними библиотеками и использования модулей, не входящих в комплект поставки CMake либо являющихся частью проекта.

По умолчанию пусто, должно определяться проектом

В консоли задается как

```cmake
cmake -DCMAKE_PREFIX_PATH=path
```

# Переменные системы

Предоставляют информацию о системе. Не пользовался

# Соус

* https://cmake.org/cmake/help/latest/manual/cmake-variables.7.html
* https://cmake.org/cmake/help/latest/manual/cmake-language.7.html#cmake-language-variables

[refTopLevel]:https://cmake.org/cmake/help/latest/variable/PROJECT_IS_TOP_LEVEL.html

